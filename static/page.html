<!DOCTYPE html>

<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Weather Forecast</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href= /static/css/materialize.min.css />
    <link rel="stylesheet" href= /static/css/main.css />

</head>

<body>
    <section>
        <div class="row">
            <div class="col s12 m12">
                <div class="card blue darken-4">
                    <div class="card-content">
                        <span class="card-title">NASA Astronomy Picture of the Day</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col s12 m3">
                <div id="search" class="card blue hoverable">
                    <div class="card-content">
                        <span class="card-title">Enter The date You to get picture</span>
						<form id="search_date" method='post' action='/'>
                        <div class="row">
                            <div class="input-field col s12 m12">
                                <i class="material-icons prefix">room</i>
                                <input type="text" class="datepicker" class="date" name="date">
                                <label for="city_name">Date</label>
                            </div>
                            <div class="col s12 m12">
                                <a id="send"  class="waves-effect waves-light yellow btn">Get Picture</a>
                            </div>
                        </div>
						</form>
                    </div>
                </div>
            </div>
            <div class="col s12 m9">
                <div id="data" class="card blue">
                    <span id="name_title" class="card-title">A Distorted Sunrise Eclipse</span>

                    <div class="card-content">
                        <div class="row">
                            <div id="card_data" class="col s12 m12 card-panel">

                            <div id="card_data" class="col s12 m12">
                                <img id="img_nasa" class="col s12 m12 responsive-img tooltipped" src=https://apod.nasa.gov/apod/image/1912/DistortedSunrise_Chasiotis_1080.jpg alt=A Distorted Sunrise Eclipse data-position="bottom" data-tooltip=2019-12-28 />
                                <div class="card-panel" id="description">Yes, but have you ever seen a sunrise like this?  Here, after initial cloudiness, the Sun appeared to rise in two pieces and during partial eclipse, causing the photographer to describe it as the most stunning sunrise of his life.  The dark circle near the top of the atmospherically-reddened Sun is the Moon -- but so is the dark peak just below it.  This is because along the way, the Earth&#39;s atmosphere had an inversion layer of unusually warm air which acted like a gigantic lens and created a second image.  For a normal sunrise or sunset, this rare phenomenon of atmospheric optics is known as the Etrucan vase effect. The featured picture was captured two mornings ago from Al Wakrah, Qatar.  Some observers in a narrow band of Earth to the east were able to see a full annular solar eclipse -- where the Moon appears completely surrounded by the background Sun in a ring of fire.  The next solar eclipse, also an annular eclipse, will occur in 2020 June.    Notable Images Submitted to APOD: The Partial Solar Eclipse of 2019 December</div>
                            </div>

                        </div>
                    </div>
					<form id="save_form" method="GET" action='/save/'>
                    <a class="fixed-action-btn btn-floating btn-large waves-effect waves-light yellow pulse right">
						<i class="material-icons">file_download</i></a>
					</form>
                </div>
				<span>Copyright@: NASA APOD</span>
            </div>
        </div>

    </section>
    <script src= /static/js/materialize.min.js></script>
    <script>
		const minDate = new Date('1995-12-17');
		const maxDate = new Date();
		
		var toolpip = document.querySelectorAll('.tooltipped');
		var save = document.querySelector('.fixed-action-btn');
		var datepicker = document.querySelectorAll('.datepicker');
		var form = document.querySelector('#save_form');
		var form1 = document.querySelector("#search_date");
		var send = document.querySelector("#send");
        document.addEventListener('DOMContentLoaded', function () {
            
            M.FloatingActionButton.init(save, null);
			
			M.Datepicker.init(datepicker, {"yearRange": [1995, maxDate.getFullYear()], "minDate": minDate, "maxDate": maxDate, "format": "yyyy-mm-dd"});
			
			M.Tooltip.init(toolpip, null);
        });
		
		save.addEventListener('click', function () {
            form.submit();
        });
		send.addEventListener('click', function () {
            form1.submit();
        });
    </script>
</body>

</html>